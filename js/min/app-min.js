function randomNumber(e,t){return Math.round(Math.random()*(t-e)+e)}function randEnemyY(){for(;0!==enemyY;){var e=randomNumber(0,enemyY.length-1),t=enemyY[e];enemyY.splice(e,1),randEnemyArraY.push(t)}}function resetPlayerPosition(){player.x=200,player.y=475}function playerDead(){0>life&&gameOver(),resetPlayerPosition(),screenLife(life),life--}function reachWater(){resetPlayerPosition(),score++,screenScore(score)}function gameOver(){allEnemies.length=0,life=3,gameOn=!1}function gameReset(){enemyY=[60,143,226,309],randEnemyArraY.length=0,randEnemyY(),allEnemies=[new Enemy,new EnemyFast,new EnemyBack,new EnemyFastest],resetPlayerPosition(),gameOn=!0,life=3,score=0,screenLife(life),screenScore(score)}function screenLife(e){var t=document.getElementById("lives");t.innerHTML="Lives: "+e}function screenScore(e){var t=document.getElementById("score");t.innerHTML="Score: "+e}var life=3,score=0,gameOn=!0,enemyY=[60,143,226,309],randEnemyArraY=[];randEnemyY();var Enemy=function(){this.sprite="images/enemy-bug.png",this.x=-98,this.y=randEnemyArraY[0],this.speed=100};Enemy.prototype.update=function(e){this.x+=this.speed*e,this.x>503&&(this.x=-98),this.x<-98&&(this.x=503),this.y-80<player.y&&this.y+80>player.y&&this.x-70<player.x&&this.x+70>player.x&&playerDead()},Enemy.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)};var EnemyFast=function(){Enemy.call(this),this.sprite="images/enemy-bug.png",this.x=-98,this.y=randEnemyArraY[1],this.speed=300};EnemyFast.prototype=Object.create(Enemy.prototype),EnemyFast.prototype.constructor=EnemyFast;var EnemyBack=function(){Enemy.call(this),this.sprite="images/enemy-bug-back.png",this.x=503,this.y=randEnemyArraY[2],this.speed=-200};EnemyBack.prototype=Object.create(Enemy.prototype),EnemyBack.prototype.constructor=EnemyBack;var EnemyFastest=function(){Enemy.call(this),this.sprite="images/enemy-bug.png",this.x=-98,this.y=randEnemyArraY[3],this.speed=200};EnemyFastest.prototype=Object.create(Enemy.prototype),EnemyFastest.prototype.constructor=EnemyFastest;var Player=function(){this.sprite="images/char-princess-girl.png",this.x=200,this.y=475,this.alive=!0};Player.prototype.update=function(e){player.y<=50&&reachWater()},Player.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)},Player.prototype.handleInput=function(e){switch(e){case"left":this.x>0&&gameOn&&(this.x-=100);break;case"up":this.y>0&&gameOn&&(this.y-=83);break;case"right":this.x<350&&gameOn&&(this.x+=100);break;case"down":this.y<475&&gameOn&&(this.y+=83)}};var allEnemies=[new Enemy,new EnemyFast,new EnemyBack,new EnemyFastest],player=new Player;document.addEventListener("keyup",function(e){var t={37:"left",38:"up",39:"right",40:"down"};player.handleInput(t[e.keyCode])});